<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>videoflix documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	   <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/dark.css">
    </head>
    <body>
          <script>
               // Blocking script to avoid flickering dark mode
               // Dark mode toggle button
               var useDark = window.matchMedia('(prefers-color-scheme: dark)');
               var darkModeState = useDark.matches;
               var $darkModeToggleSwitchers = document.querySelectorAll('.dark-mode-switch input');
               var $darkModeToggles = document.querySelectorAll('.dark-mode-switch');
               var darkModeStateLocal = localStorage.getItem('compodoc_darkmode-state');

               function checkToggle(check) {
                    for (var i = 0; i < $darkModeToggleSwitchers.length; i++) {
                         $darkModeToggleSwitchers[i].checked = check;
                    }
               }

               function toggleDarkMode(state) {
                    if (window.localStorage) {
                         localStorage.setItem('compodoc_darkmode-state', state);
                    }

                    checkToggle(state);

                    const hasClass = document.body.classList.contains('dark');

                    if (state) {
                         for (var i = 0; i < $darkModeToggles.length; i++) {
                              $darkModeToggles[i].classList.add('dark');
                         }
                         if (!hasClass) {
                              document.body.classList.add('dark');
                         }
                    } else {
                         for (var i = 0; i < $darkModeToggles.length; i++) {
                              $darkModeToggles[i].classList.remove('dark');
                         }
                         if (hasClass) {
                              document.body.classList.remove('dark');
                         }
                    }
               }

               useDark.addEventListener('change', function (evt) {
                    toggleDarkMode(evt.matches);
               });
               if (darkModeStateLocal) {
                    darkModeState = darkModeStateLocal === 'true';
               }
               toggleDarkMode(darkModeState);
          </script>

        <div class="navbar navbar-default navbar-fixed-top d-md-none p-0">
               <div class="d-flex">
                    <a href="../" class="navbar-brand">videoflix documentation</a>
                    <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
               </div>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="d-none d-md-block menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content component">
                   <div class="content-data">




<ol class="breadcrumb">
  <li class="breadcrumb-item">Components</li>
  <li class="breadcrumb-item"
  >
  UserResetPasswordComponent</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="nav-item">
            <a href="#info" class="nav-link active"
                role="tab" id="info-tab" data-bs-toggle="tab" data-link="info">Info</a>
        </li>
        <li class="nav-item">
            <a href="#source" class="nav-link"
                role="tab" id="source-tab" data-bs-toggle="tab" data-link="source">Source</a>
        </li>
        <li class="nav-item">
            <a href="#templateData" class="nav-link"
                role="tab" id="templateData-tab" data-bs-toggle="tab" data-link="template">Template</a>
        </li>
        <li class="nav-item">
            <a href="#styleData" class="nav-link"
                role="tab" id="styleData-tab" data-bs-toggle="tab" data-link="style">Styles</a>
        </li>
        <li class="nav-item">
            <a href="#tree" class="nav-link"
                role="tab" id="tree-tab" data-bs-toggle="tab" data-link="dom-tree">DOM Tree</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="info"><p class="comment">
    <h3>File</h3>
</p>
<p class="comment">
    <code>src/app/pages/user-reset-password/user-reset-password.component.ts</code>
</p>




    <p class="comment">
        <h3>Implements</h3>
    </p>
    <p class="comment">
                <code>OnInit</code>
    </p>


<section data-compodoc="block-metadata">
    <h3>Metadata</h3>
    <table class="table table-sm table-hover metadata">
        <tbody>












            <tr>
                <td class="col-md-3">selector</td>
                <td class="col-md-9"><code>app-user-reset-password</code></td>
            </tr>



            <tr>
                <td class="col-md-3">styleUrls</td>
                <td class="col-md-9"><code>./user-reset-password.component.scss</code></td>
            </tr>



            <tr>
                <td class="col-md-3">templateUrl</td>
                <td class="col-md-9"><code>./user-reset-password.component.html</code></td>
            </tr>








        </tbody>
    </table>
</section>

    <section data-compodoc="block-index">
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#baseUrl" >baseUrl</a>
                            </li>
                            <li>
                                <a href="#error" >error</a>
                            </li>
                            <li>
                                <a href="#errorMessage" >errorMessage</a>
                            </li>
                            <li>
                                <a href="#message" >message</a>
                            </li>
                            <li>
                                <a href="#resetPasswordForm" >resetPasswordForm</a>
                            </li>
                            <li>
                                <a href="#status" >status</a>
                            </li>
                            <li>
                                <a href="#successMessage" >successMessage</a>
                            </li>
                            <li>
                                <a href="#token" >token</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#logout" >logout</a>
                            </li>
                            <li>
                                <a href="#navigateToHome" >navigateToHome</a>
                            </li>
                            <li>
                                <a href="#ngOnInit" >ngOnInit</a>
                            </li>
                            <li>
                                <a href="#onSubmit" >onSubmit</a>
                            </li>
                            <li>
                                <a href="#passwordsMatchValidator" >passwordsMatchValidator</a>
                            </li>
                        </ul>
                    </td>
                </tr>





        </tbody>
    </table>
</section>

    <section data-compodoc="block-constructor">
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(fb: FormBuilder, authService: <a href="../injectables/AuthService.html" target="_self">AuthService</a>, route: ActivatedRoute, router: Router, http: HttpClient)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="24" class="link-to-prism">src/app/pages/user-reset-password/user-reset-password.component.ts:24</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Initializes the component and sets up the form group with validators.</p>
</div>
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                                    <td>Description</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>fb</td>
                                                  
                                                        <td>
                                                                    <code>FormBuilder</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <ul>
<li>FormBuilder instance to create form groups and form controls.</li>
</ul>

                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>authService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/AuthService.html" target="_self" >AuthService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <ul>
<li>AuthService instance to handle authentication-related tasks.</li>
</ul>

                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>route</td>
                                                  
                                                        <td>
                                                                    <code>ActivatedRoute</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <ul>
<li>ActivatedRoute instance to access route parameters.</li>
</ul>

                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>router</td>
                                                  
                                                        <td>
                                                                    <code>Router</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <ul>
<li>Router instance to navigate between routes.</li>
</ul>

                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>http</td>
                                                  
                                                        <td>
                                                                    <code>HttpClient</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <ul>
<li>HttpClient instance to make HTTP requests.</li>
</ul>

                                                        </td>
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>





    <section data-compodoc="block-methods">
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="logout"></a>
                    <span class="name">
                        <span ><b>logout</b></span>
                        <a href="#logout"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>logout(event: Event)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="122"
                                    class="link-to-prism">src/app/pages/user-reset-password/user-reset-password.component.ts:122</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Logs out the user by removing the token from local storage and navigating to the login page.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>event</td>
                                            <td>
                                                        <code>Event</code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>The event object.</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="navigateToHome"></a>
                    <span class="name">
                        <span ><b>navigateToHome</b></span>
                        <a href="#navigateToHome"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>navigateToHome(event: Event)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="135"
                                    class="link-to-prism">src/app/pages/user-reset-password/user-reset-password.component.ts:135</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Navigates to the home page.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>event</td>
                                            <td>
                                                        <code>Event</code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>The event object.</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ngOnInit"></a>
                    <span class="name">
                        <span ><b>ngOnInit</b></span>
                        <a href="#ngOnInit"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>ngOnInit()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="70"
                                    class="link-to-prism">src/app/pages/user-reset-password/user-reset-password.component.ts:70</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Lifecycle hook that is called after data-bound properties of a directive are initialized.
Retrieves the token from local storage.</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onSubmit"></a>
                    <span class="name">
                        <span ><b>onSubmit</b></span>
                        <a href="#onSubmit"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>onSubmit()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="82"
                                    class="link-to-prism">src/app/pages/user-reset-password/user-reset-password.component.ts:82</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Handles the form submission for resetting the password.
Checks if the form is valid and if the new password and confirm password fields match.
Makes an HTTP POST request to reset the password.
Displays success or error messages based on the response.</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="passwordsMatchValidator"></a>
                    <span class="name">
                        <span ><b>passwordsMatchValidator</b></span>
                        <a href="#passwordsMatchValidator"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>passwordsMatchValidator(form: FormGroup)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="53"
                                    class="link-to-prism">src/app/pages/user-reset-password/user-reset-password.component.ts:53</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Custom validator to check if the new password and confirm password fields match.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>form</td>
                                            <td>
                                                        <code>FormGroup</code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>FormGroup instance containing the form controls.</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </div>
                            <div class="io-description">
                                <p>null</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>
    <section data-compodoc="block-properties">
    
    <h3 id="inputs">
        Properties
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="baseUrl"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>baseUrl</b></span>
                        <a href="#baseUrl"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>environment.baseUrl</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="15" class="link-to-prism">src/app/pages/user-reset-password/user-reset-password.component.ts:15</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="error"></a>
                    <span class="name">
                        <span ><b>error</b></span>
                        <a href="#error"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>string | null</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>null</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="24" class="link-to-prism">src/app/pages/user-reset-password/user-reset-password.component.ts:24</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="errorMessage"></a>
                    <span class="name">
                        <span ><b>errorMessage</b></span>
                        <a href="#errorMessage"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>string | null</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>null</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="19" class="link-to-prism">src/app/pages/user-reset-password/user-reset-password.component.ts:19</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="message"></a>
                    <span class="name">
                        <span ><b>message</b></span>
                        <a href="#message"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>string | null</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>null</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="23" class="link-to-prism">src/app/pages/user-reset-password/user-reset-password.component.ts:23</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="resetPasswordForm"></a>
                    <span class="name">
                        <span ><b>resetPasswordForm</b></span>
                        <a href="#resetPasswordForm"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>FormGroup</code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="17" class="link-to-prism">src/app/pages/user-reset-password/user-reset-password.component.ts:17</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="status"></a>
                    <span class="name">
                        <span ><b>status</b></span>
                        <a href="#status"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>string | null</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>null</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="22" class="link-to-prism">src/app/pages/user-reset-password/user-reset-password.component.ts:22</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="successMessage"></a>
                    <span class="name">
                        <span ><b>successMessage</b></span>
                        <a href="#successMessage"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>string | null</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>null</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="20" class="link-to-prism">src/app/pages/user-reset-password/user-reset-password.component.ts:20</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="token"></a>
                    <span class="name">
                        <span ><b>token</b></span>
                        <a href="#token"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>string | null</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>null</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="18" class="link-to-prism">src/app/pages/user-reset-password/user-reset-password.component.ts:18</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
</section>

</div>


    <div class="tab-pane fade  tab-source-code" id="source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { Component, OnInit } from &#x27;@angular/core&#x27;;
import { ActivatedRoute } from &#x27;@angular/router&#x27;;
import { HttpClient, HttpErrorResponse } from &#x27;@angular/common/http&#x27;;
import { FormBuilder, FormGroup, Validators } from &#x27;@angular/forms&#x27;;
import { Router } from &#x27;@angular/router&#x27;;
import { AuthService } from &#x27;src/app/services/auth.service&#x27;;
import { environment } from &#x27;../../../environments/environment&#x27;;

@Component({
  selector: &#x27;app-user-reset-password&#x27;,
  templateUrl: &#x27;./user-reset-password.component.html&#x27;,
  styleUrls: [&#x27;./user-reset-password.component.scss&#x27;]
})
export class UserResetPasswordComponent implements OnInit {
  private baseUrl: string &#x3D; environment.baseUrl;

  resetPasswordForm: FormGroup;
  token: string | null &#x3D; null;
  errorMessage: string | null &#x3D; null;
  successMessage: string | null &#x3D; null;

  status: string | null &#x3D; null;
  message: string | null &#x3D; null;
  error: string | null &#x3D; null;

/**
 * Initializes the component and sets up the form group with validators.
 * 
 * @param fb - FormBuilder instance to create form groups and form controls.
 * @param authService - AuthService instance to handle authentication-related tasks.
 * @param route - ActivatedRoute instance to access route parameters.
 * @param router - Router instance to navigate between routes.
 * @param http - HttpClient instance to make HTTP requests.
 */
  constructor (
    private fb: FormBuilder,
    private authService: AuthService, private route: ActivatedRoute, private router: Router, private http: HttpClient
  ) {
    this.resetPasswordForm &#x3D; this.fb.group({
      oldPassword: [&#x27;&#x27;, [Validators.required]],
      newPassword: [&#x27;&#x27;, [Validators.required, Validators.minLength(2)]],
      confirmPassword: [&#x27;&#x27;, [Validators.required, Validators.minLength(2)]]
    }, { validator: this.passwordsMatchValidator });
  }


  /**
 * Custom validator to check if the new password and confirm password fields match.
 * 
 * @param form - FormGroup instance containing the form controls.
 * @returns null
 */
  passwordsMatchValidator (form: FormGroup) {
    const newPassword &#x3D; form.get(&#x27;newPassword&#x27;)?.value;
    const confirmPassword &#x3D; form.get(&#x27;confirmPassword&#x27;)?.value;

    if (newPassword !&#x3D;&#x3D; confirmPassword) {
      form.get(&#x27;confirmPassword&#x27;)?.setErrors({ passwordsMismatch: true });
    } else {
      form.get(&#x27;confirmPassword&#x27;)?.setErrors(null);
    }
    return null;
  }


  /**
 * Lifecycle hook that is called after data-bound properties of a directive are initialized.
 * Retrieves the token from local storage.
 */
  ngOnInit () {
    this.token &#x3D; localStorage.getItem(&#x27;token&#x27;) || &#x27;&#x27;;

  }


/**
 * Handles the form submission for resetting the password.
 * Checks if the form is valid and if the new password and confirm password fields match.
 * Makes an HTTP POST request to reset the password.
 * Displays success or error messages based on the response.
 */
  onSubmit () {
    if (this.resetPasswordForm.valid) {
      const oldPassword &#x3D; this.resetPasswordForm.get(&#x27;oldPassword&#x27;)?.value;
      const newPassword &#x3D; this.resetPasswordForm.get(&#x27;newPassword&#x27;)?.value;
      const confirmPassword &#x3D; this.resetPasswordForm.get(&#x27;confirmPassword&#x27;)?.value;

      if (newPassword !&#x3D;&#x3D; confirmPassword) {
        this.errorMessage &#x3D; &#x27;Passwords do not match.&#x27;;
        return;
      }

      this.http.post(&#x60;${this.baseUrl}/user/user_reset_password/&#x60;, {
        token: this.token,
        old_password: oldPassword,
        new_password: newPassword,
        confirm_password: confirmPassword
      }).subscribe({
        next: (response) &#x3D;&gt; {
          this.successMessage &#x3D; &#x27;Password reset successful!&#x27;;
          this.errorMessage &#x3D; null;
          this.resetPasswordForm.reset();
        },
        error: (error: HttpErrorResponse) &#x3D;&gt; {
          if (error.error?.non_field_errors) {
            this.errorMessage &#x3D; error.error.non_field_errors.join(&#x27;, &#x27;);
          } else {
            this.errorMessage &#x3D; &#x27;Failed to reset password. Please try again.&#x27;;
          }
          this.successMessage &#x3D; null;
        }
      });
    }
  }


  /**
 * Logs out the user by removing the token from local storage and navigating to the login page.
 * 
 * @param event - The event object.
 */
  logout (event: Event) {
    event.preventDefault();
    localStorage.removeItem(&#x27;token&#x27;);
    this.authService.setUsername(null);
    this.router.navigate([&#x27;/login&#x27;]);
  }


  /**
 * Navigates to the home page.
 * 
 * @param event - The event object.
 */
  navigateToHome (event: Event) {
    event.preventDefault();
    this.router.navigate([&#x27;/home&#x27;]);
  }

}</code></pre>
    </div>

    <div class="tab-pane fade " id="templateData">
        <pre class="line-numbers"><code class="language-html">&lt;div class&#x3D;&quot;absolute inset-0 w-full h-full&quot;&gt;
  &lt;img src&#x3D;&quot;./assets/img/videoflix_start_bkg.jpg&quot; alt&#x3D;&quot;Video Background Image&quot; class&#x3D;&quot;w-full h-full object-cover&quot;&gt;
&lt;/div&gt;
&lt;div class&#x3D;&quot;absolute inset-0 w-full h-full bg-gradient-to-b from-black/95 via-black/40 to-black/95&quot;&gt;&lt;/div&gt;
&lt;div class&#x3D;&quot;w-full md:w-6/12 absolute p-12 right-0 left-0 bg-black my-36 mx-auto text-white rounded-lg bg-opacity-70&quot;&gt;

  &lt;!-- Login error.detail --&gt;
  &lt;div *ngIf&#x3D;&quot;error&quot; class&#x3D;&quot;bg-red-500 text-white p-4 rounded-md mb-4&quot;&gt;
    {{error}}
  &lt;/div&gt;

  &lt;!-- Success Message --&gt;
  &lt;div *ngIf&#x3D;&quot;status &#x3D;&#x3D;&#x3D; &#x27;success&#x27;&quot; class&#x3D;&quot;bg-yellow-500 text-white p-4 rounded-md mb-4&quot;&gt;
    {{message}}
  &lt;/div&gt;

  &lt;div *ngIf&#x3D;&quot;errorMessage&quot; class&#x3D;&quot;error bg-red-500 text-white p-4 rounded-md mb-4&quot;&gt;
    {{ errorMessage }}
  &lt;/div&gt;

  &lt;div *ngIf&#x3D;&quot;successMessage&quot; class&#x3D;&quot;success flex flex-col items-center justify-center space-y-2&quot;&gt;
    {{ successMessage }}&lt;br&gt;
    &lt;button (click)&#x3D;&quot;navigateToHome($event)&quot;
      class&#x3D;&quot;bg-green-500 text-white px-4 py-2 rounded-md hover:bg-slate-700&quot;&gt;Return to Homepage&lt;/button&gt;
    &lt;div&gt;
      Or&lt;/div&gt;
    &lt;div&gt;&lt;a href&#x3D;&quot;#&quot; class&#x3D;&quot;text-blue-500 hover:underline&quot; (click)&#x3D;&quot;logout($event)&quot;&gt;Logout&lt;/a&gt; to Login again.&lt;/div&gt;

  &lt;/div&gt;



  &lt;!-- Reset Password Form --&gt;
  &lt;div class&#x3D;&quot;mt-6 bg-gray-800 p-6 rounded-md&quot;&gt;
    &lt;h1 class&#x3D;&quot;font-bold text-3xl py-4&quot;&gt;Set New Password&lt;/h1&gt;
    &lt;p class&#x3D;&quot;mb-4&quot;&gt;The password must be minimum 2 characters long.&lt;/p&gt;


    &lt;form [formGroup]&#x3D;&quot;resetPasswordForm&quot; (ngSubmit)&#x3D;&quot;onSubmit()&quot;&gt;
      &lt;input type&#x3D;&quot;text&quot; formControlName&#x3D;&quot;username&quot; autocomplete&#x3D;&quot;username&quot; hidden&gt;
      &lt;div&gt;
        &lt;label for&#x3D;&quot;oldPassword&quot; class&#x3D;&quot;block text-sm font-medium text-white&quot;&gt;Old Password:&lt;/label&gt;
        &lt;input type&#x3D;&quot;password&quot; id&#x3D;&quot;oldPassword&quot; formControlName&#x3D;&quot;oldPassword&quot;
          class&#x3D;&quot;mt-1 block w-full px-3 py-2 bg-gray-800 text-gray-300 border border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm&quot;
          autocomplete&#x3D;&quot;current-password&quot;&gt;
        &lt;div *ngIf&#x3D;&quot;resetPasswordForm.get(&#x27;oldPassword&#x27;)?.invalid &amp;&amp; resetPasswordForm.get(&#x27;oldPassword&#x27;)?.touched&quot;&gt;
          &lt;small class&#x3D;&quot;text-red-500&quot;&gt;Old password is required.&lt;/small&gt;
        &lt;/div&gt;
      &lt;/div&gt;
      &lt;div&gt;
        &lt;label for&#x3D;&quot;newPassword&quot; class&#x3D;&quot;block text-sm font-medium text-white&quot;&gt;New Password:&lt;/label&gt;
        &lt;input type&#x3D;&quot;password&quot; id&#x3D;&quot;newPassword&quot; formControlName&#x3D;&quot;newPassword&quot;
          class&#x3D;&quot;mt-1 block w-full px-3 py-2 bg-gray-800 text-gray-300 border border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm&quot;
          autocomplete&#x3D;&quot;current-password&quot;&gt;
        &lt;div *ngIf&#x3D;&quot;resetPasswordForm.get(&#x27;newPassword&#x27;)?.invalid &amp;&amp; resetPasswordForm.get(&#x27;newPassword&#x27;)?.touched&quot;&gt;
          &lt;small class&#x3D;&quot;text-red-500&quot;&gt;Password must be at least 8 characters long.&lt;/small&gt;
        &lt;/div&gt;
      &lt;/div&gt;
      &lt;div&gt;
        &lt;label for&#x3D;&quot;confirmPassword&quot; class&#x3D;&quot;block text-sm font-medium text-white&quot;&gt;Confirm New Password:&lt;/label&gt;
        &lt;input type&#x3D;&quot;password&quot; id&#x3D;&quot;confirmPassword&quot; formControlName&#x3D;&quot;confirmPassword&quot;
          class&#x3D;&quot;mt-1 block w-full px-3 py-2 bg-gray-800 text-gray-300 border border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm&quot;
          autocomplete&#x3D;&quot;current-password&quot;&gt;
        &lt;div
          *ngIf&#x3D;&quot;resetPasswordForm.hasError(&#x27;passwordsMismatch&#x27;) &amp;&amp; resetPasswordForm.get(&#x27;confirmPassword&#x27;)?.touched&quot;&gt;
          &lt;small class&#x3D;&quot;text-red-500&quot;&gt;Passwords do not match.&lt;/small&gt;
        &lt;/div&gt;
      &lt;/div&gt;
      &lt;button type&#x3D;&quot;submit&quot; [disabled]&#x3D;&quot;resetPasswordForm.invalid&quot;
        [ngClass]&#x3D;&quot;{&#x27;bg-gray-500&#x27;: resetPasswordForm.invalid, &#x27;bg-blue-600 hover:bg-blue-700&#x27;: !resetPasswordForm.invalid}&quot;
        class&#x3D;&quot;mt-4 w-full px-4 py-2 text-white rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500&quot;&gt;
        Reset Password
      &lt;/button&gt;
      &lt;div&gt;&lt;a href&#x3D;&quot;#&quot; class&#x3D;&quot;text-blue-500 hover:underline flex flex-col items-center justify-center space-y-2 mt-5&quot;
          (click)&#x3D;&quot;navigateToHome($event)&quot;&gt;Back to Homepage&lt;/a&gt;&lt;/div&gt;
    &lt;/form&gt;


  &lt;/div&gt;



&lt;/div&gt;</code></pre>
    </div>

    <div class="tab-pane fade " id="styleData">
                <p class="comment">
                    <code>./user-reset-password.component.scss</code>
                </p>
                <pre class="line-numbers"><code class="language-scss"></code></pre>
    </div>

    <div class="tab-pane fade " id="tree">
        <div id="tree-container"></div>
        <div class="tree-legend">
            <div class="title">
                <b>Legend</b>
            </div>
            <div>
                <div class="color htmlelement"></div><span>Html element</span>
            </div>
            <div>
                <div class="color component"></div><span>Component</span>
            </div>
            <div>
                <div class="color directive"></div><span>Html element with directive</span>
            </div>
        </div>
    </div>

    
</div>

<script src="../js/libs/vis.min.js"></script>
<script src="../js/libs/htmlparser.js"></script>
<script src="../js/libs/deep-iterator.js"></script>
<script>
        var COMPONENT_TEMPLATE = '<div><div class="absolute inset-0 w-full h-full">  <img src="./assets/img/videoflix_start_bkg.jpg" alt="Video Background Image" class="w-full h-full object-cover"></div><div class="absolute inset-0 w-full h-full bg-gradient-to-b from-black/95 via-black/40 to-black/95"></div><div class="w-full md:w-6/12 absolute p-12 right-0 left-0 bg-black my-36 mx-auto text-white rounded-lg bg-opacity-70">  <!-- Login error.detail -->  <div *ngIf="error" class="bg-red-500 text-white p-4 rounded-md mb-4">    {{error}}  </div>  <!-- Success Message -->  <div *ngIf="status === \'success\'" class="bg-yellow-500 text-white p-4 rounded-md mb-4">    {{message}}  </div>  <div *ngIf="errorMessage" class="error bg-red-500 text-white p-4 rounded-md mb-4">    {{ errorMessage }}  </div>  <div *ngIf="successMessage" class="success flex flex-col items-center justify-center space-y-2">    {{ successMessage }}<br>    <button (click)="navigateToHome($event)"      class="bg-green-500 text-white px-4 py-2 rounded-md hover:bg-slate-700">Return to Homepage</button>    <div>      Or</div>    <div><a href="#" class="text-blue-500 hover:underline" (click)="logout($event)">Logout</a> to Login again.</div>  </div>  <!-- Reset Password Form -->  <div class="mt-6 bg-gray-800 p-6 rounded-md">    <h1 class="font-bold text-3xl py-4">Set New Password</h1>    <p class="mb-4">The password must be minimum 2 characters long.</p>    <form [formGroup]="resetPasswordForm" (ngSubmit)="onSubmit()">      <input type="text" formControlName="username" autocomplete="username" hidden>      <div>        <label for="oldPassword" class="block text-sm font-medium text-white">Old Password:</label>        <input type="password" id="oldPassword" formControlName="oldPassword"          class="mt-1 block w-full px-3 py-2 bg-gray-800 text-gray-300 border border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"          autocomplete="current-password">        <div *ngIf="resetPasswordForm.get(\'oldPassword\')?.invalid && resetPasswordForm.get(\'oldPassword\')?.touched">          <small class="text-red-500">Old password is required.</small>        </div>      </div>      <div>        <label for="newPassword" class="block text-sm font-medium text-white">New Password:</label>        <input type="password" id="newPassword" formControlName="newPassword"          class="mt-1 block w-full px-3 py-2 bg-gray-800 text-gray-300 border border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"          autocomplete="current-password">        <div *ngIf="resetPasswordForm.get(\'newPassword\')?.invalid && resetPasswordForm.get(\'newPassword\')?.touched">          <small class="text-red-500">Password must be at least 8 characters long.</small>        </div>      </div>      <div>        <label for="confirmPassword" class="block text-sm font-medium text-white">Confirm New Password:</label>        <input type="password" id="confirmPassword" formControlName="confirmPassword"          class="mt-1 block w-full px-3 py-2 bg-gray-800 text-gray-300 border border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"          autocomplete="current-password">        <div          *ngIf="resetPasswordForm.hasError(\'passwordsMismatch\') && resetPasswordForm.get(\'confirmPassword\')?.touched">          <small class="text-red-500">Passwords do not match.</small>        </div>      </div>      <button type="submit" [disabled]="resetPasswordForm.invalid"        [ngClass]="{\'bg-gray-500\': resetPasswordForm.invalid, \'bg-blue-600 hover:bg-blue-700\': !resetPasswordForm.invalid}"        class="mt-4 w-full px-4 py-2 text-white rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">        Reset Password      </button>      <div><a href="#" class="text-blue-500 hover:underline flex flex-col items-center justify-center space-y-2 mt-5"          (click)="navigateToHome($event)">Back to Homepage</a></div>    </form>  </div></div></div>'
    var COMPONENTS = [{'name': 'ActivationComponent', 'selector': 'app-activation'},{'name': 'AppComponent', 'selector': 'app-root'},{'name': 'BackgroundVideoComponent', 'selector': 'app-background-video'},{'name': 'BrowseComponent', 'selector': 'app-browse'},{'name': 'CategoryCarouselComponent', 'selector': 'app-category-carousel'},{'name': 'DatenschutzComponent', 'selector': 'app-datenschutz'},{'name': 'EmailverificationComponent', 'selector': 'app-emailverification'},{'name': 'FooterComponent', 'selector': 'app-footer'},{'name': 'HomeComponent', 'selector': 'app-home'},{'name': 'ImpressumComponent', 'selector': 'app-impressum'},{'name': 'LoginComponent', 'selector': 'app-login'},{'name': 'RegisterComponent', 'selector': 'app-register'},{'name': 'UserconfirmnewpasswordComponent', 'selector': 'app-userconfirmnewpassword'},{'name': 'UserResetPasswordComponent', 'selector': 'app-user-reset-password'},{'name': 'VideodetailComponent', 'selector': 'app-videodetail'},{'name': 'VideoPlayerComponent', 'selector': 'app-video-player'}];
    var DIRECTIVES = [];
    var ACTUAL_COMPONENT = {'name': 'UserResetPasswordComponent'};
</script>
<script src="../js/tree.js"></script>

















                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

          <label class="dark-mode-switch">
               <input type="checkbox">
               <span class="slider">
                    <svg class="slider-icon" viewBox="0 0 24 24" fill="none" height="20" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="20" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
                    </svg>
               </span>
          </label>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'component';
            var COMPODOC_CURRENT_PAGE_URL = 'UserResetPasswordComponent.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script>
               $darkModeToggleSwitchers = document.querySelectorAll('.dark-mode-switch input');
               checkToggle(darkModeState);
               if ($darkModeToggleSwitchers.length > 0) {
                    for (var i = 0; i < $darkModeToggleSwitchers.length; i++) {
                         $darkModeToggleSwitchers[i].addEventListener('change', function (event) {
                              darkModeState = !darkModeState;
                              toggleDarkMode(darkModeState);
                         });
                    }
               }
          </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>

       <script src="../js/menu-wc.js" defer></script>
       <script nomodule src="../js/menu-wc_es5.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
